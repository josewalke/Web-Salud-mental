// ========================================
// CONFIGURACIÓN DEL BACKEND - ARCHIVO DE EJEMPLO
// ========================================
// ✅ Este archivo SÍ se puede subir a Git
// Copia este archivo como 'backend-config.js' y configura tus variables

const backendConfig = {
  // Configuración del servidor
  server: {
    port: process.env.PORT || 3001,
    host: process.env.HOST || 'localhost',
    environment: process.env.NODE_ENV || 'development'
  },

  // Configuración de la base de datos
  database: {
    // PostgreSQL
    postgres: {
      host: process.env.DB_HOST || 'localhost',
      port: process.env.DB_PORT || 5432,
      database: process.env.DB_NAME || 'salud_mental_db',
      username: process.env.DB_USER || 'tu_usuario',
      password: process.env.DB_PASSWORD || 'tu_password',
      ssl: process.env.NODE_ENV === 'production'
    },
    
    // MongoDB (alternativa)
    mongodb: {
      uri: process.env.MONGODB_URI || 'mongodb://localhost:27017/salud_mental_db',
      options: {
        useNewUrlParser: true,
        useUnifiedTopology: true
      }
    }
  },

  // Configuración de autenticación
  auth: {
    jwtSecret: process.env.JWT_SECRET || 'cambiar_por_secret_real',
    jwtExpiresIn: process.env.JWT_EXPIRES_IN || '24h',
    bcryptRounds: 12
  },

  // Configuración de CORS
  cors: {
    origin: process.env.CORS_ORIGIN || 'http://localhost:3000',
    credentials: true
  },

  // Configuración de rate limiting
  rateLimit: {
    windowMs: 15 * 60 * 1000, // 15 minutos
    max: 100 // máximo 100 requests por ventana
  },

  // Configuración de logging
  logging: {
    level: process.env.LOG_LEVEL || 'info',
    file: process.env.LOG_FILE || 'logs/app.log'
  },

  // Configuración de email (para notificaciones)
  email: {
    service: 'gmail',
    user: process.env.EMAIL_USER || 'tu_email@gmail.com',
    password: process.env.EMAIL_PASSWORD || 'tu_password_de_app'
  },

  // Configuración de almacenamiento de archivos
  storage: {
    type: 'local', // 'local', 's3', 'cloudinary'
    localPath: './uploads/',
    maxFileSize: 5 * 1024 * 1024 // 5MB
  }
};

// Configuración específica por entorno
const environmentConfigs = {
  development: {
    ...backendConfig,
    database: {
      ...backendConfig.database,
      postgres: {
        ...backendConfig.database.postgres,
        logging: console.log
      }
    }
  },
  
  production: {
    ...backendConfig,
    server: {
      ...backendConfig.server,
      host: '0.0.0.0'
    },
    database: {
      ...backendConfig.database,
      postgres: {
        ...backendConfig.database.postgres,
        ssl: true,
        logging: false
      }
    }
  }
};

// Exportar configuración según el entorno
module.exports = environmentConfigs[process.env.NODE_ENV] || environmentConfigs.development;

// ========================================
// INSTRUCCIONES DE USO:
// ========================================
// 1. Copia este archivo como 'backend-config.js'
// 2. Crea un archivo '.env' con tus variables reales
// 3. NUNCA subas el archivo '.env' a Git
// 4. Configura las variables en tu servidor de producción
// ========================================
